# [프로세스](https://school.programmers.co.kr/learn/courses/30/lessons/42587)

### Solution

```cpp
int solution(vector<int> priorities, int location) {
    int cnt = 1;
    map<int,int> m;
    queue<pair<int,int>> q;
    
    for(int i = 0 ; i < priorities.size(); i++)
    {
        m[priorities[i]]++;
        q.push({i,priorities[i]});
    }
    
    //프로세스 우선순위 높은것부터 처리
    auto iter = m.end();
    iter--;
    
    while(!q.empty())
    {
        //우선순위 동일한지 확인
        if(q.front().second == (*iter).first){
            //해당 우선순위 갯수 관리 및 이동
            (*iter).second--;
            if((*iter).second == 0 ) iter--;
            
            //찾고있는 작업이면?
            if(q.front().first == location ) return cnt;
            else{
                q.pop();
                cnt++;
            }
        }
        //먼저 해야하는 작업이 있음
        else{
            q.push(q.front());
            q.pop();
        }
    }
    return -1;
}
```